
# Set working directory
# setwd()


new_data <- read.table('79_2909_child_count.dat', sep=' ')
names(new_data) <- c('R0000100',
'R0218001',
'R0407601',
'R0647101',
'R0898838',
'R1146830',
'R1522037',
'R1892737',
'R2259837',
'R2448037',
'R2877600',
'R3076842',
'R3407700',
'R3659047',
'R4009447',
'R4444700',
'R5087500',
'R5172800',
'R6486400',
'R7014200',
'R7711800',
'R8504300',
'T0996000',
'T2217800',
'T3115800',
'T4120300',
'T5031500',
'T5779700',
'T8226800',
'T8796100',
'T9307900')


# Handle missing values

new_data[new_data == -1] = NA  # Refused
new_data[new_data == -2] = NA  # Dont know
new_data[new_data == -3] = NA  # Invalid missing
new_data[new_data == -4] = NA  # Valid missing
new_data[new_data == -5] = NA  # Non-interview


# If there are values not categorized they will be represented as NA

vallabels = function(data) {
return(data)
}


# If there are values not categorized they will be represented as NA

vallabels_continuous = function(data) {
data$R0218001[16.0 <= data$R0218001 & data$R0218001 <= 99999.0] <- 16.0
data$R0218001 <- factor(data$R0218001,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R0407601[16.0 <= data$R0407601 & data$R0407601 <= 99999.0] <- 16.0
data$R0407601 <- factor(data$R0407601,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R0647101[16.0 <= data$R0647101 & data$R0647101 <= 99999.0] <- 16.0
data$R0647101 <- factor(data$R0647101,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R0898838[16.0 <= data$R0898838 & data$R0898838 <= 99999.0] <- 16.0
data$R0898838 <- factor(data$R0898838,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R1146830[16.0 <= data$R1146830 & data$R1146830 <= 99999.0] <- 16.0
data$R1146830 <- factor(data$R1146830,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R1522037[16.0 <= data$R1522037 & data$R1522037 <= 99999.0] <- 16.0
data$R1522037 <- factor(data$R1522037,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R1892737[16.0 <= data$R1892737 & data$R1892737 <= 99999.0] <- 16.0
data$R1892737 <- factor(data$R1892737,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R2259837[16.0 <= data$R2259837 & data$R2259837 <= 99999.0] <- 16.0
data$R2259837 <- factor(data$R2259837,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R2448037[16.0 <= data$R2448037 & data$R2448037 <= 99999.0] <- 16.0
data$R2448037 <- factor(data$R2448037,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R2877600[16.0 <= data$R2877600 & data$R2877600 <= 99999.0] <- 16.0
data$R2877600 <- factor(data$R2877600,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R3076842[16.0 <= data$R3076842 & data$R3076842 <= 99999.0] <- 16.0
data$R3076842 <- factor(data$R3076842,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R3407700[16.0 <= data$R3407700 & data$R3407700 <= 99999.0] <- 16.0
data$R3407700 <- factor(data$R3407700,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R3659047[16.0 <= data$R3659047 & data$R3659047 <= 99999.0] <- 16.0
data$R3659047 <- factor(data$R3659047,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R4009447[16.0 <= data$R4009447 & data$R4009447 <= 99999.0] <- 16.0
data$R4009447 <- factor(data$R4009447,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R4444700[16.0 <= data$R4444700 & data$R4444700 <= 99999.0] <- 16.0
data$R4444700 <- factor(data$R4444700,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0,11.0,12.0,13.0,14.0,15.0,16.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10",
"11",
"12",
"13",
"14",
"15",
"16 TO 99999: 16+"))
data$R5087500[10.0 <= data$R5087500 & data$R5087500 <= 999.0] <- 10.0
data$R5087500 <- factor(data$R5087500,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$R5172800[10.0 <= data$R5172800 & data$R5172800 <= 999.0] <- 10.0
data$R5172800 <- factor(data$R5172800,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$R6486400[10.0 <= data$R6486400 & data$R6486400 <= 999.0] <- 10.0
data$R6486400 <- factor(data$R6486400,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$R7014200[10.0 <= data$R7014200 & data$R7014200 <= 999.0] <- 10.0
data$R7014200 <- factor(data$R7014200,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$R7711800[10.0 <= data$R7711800 & data$R7711800 <= 999.0] <- 10.0
data$R7711800 <- factor(data$R7711800,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$R8504300[10.0 <= data$R8504300 & data$R8504300 <= 999.0] <- 10.0
data$R8504300 <- factor(data$R8504300,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$T0996000[10.0 <= data$T0996000 & data$T0996000 <= 999.0] <- 10.0
data$T0996000 <- factor(data$T0996000,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$T2217800[10.0 <= data$T2217800 & data$T2217800 <= 999.0] <- 10.0
data$T2217800 <- factor(data$T2217800,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$T3115800[10.0 <= data$T3115800 & data$T3115800 <= 999.0] <- 10.0
data$T3115800 <- factor(data$T3115800,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$T4120300[10.0 <= data$T4120300 & data$T4120300 <= 999.0] <- 10.0
data$T4120300 <- factor(data$T4120300,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$T5031500[10.0 <= data$T5031500 & data$T5031500 <= 999.0] <- 10.0
data$T5031500 <- factor(data$T5031500,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$T5779700[10.0 <= data$T5779700 & data$T5779700 <= 999.0] <- 10.0
data$T5779700 <- factor(data$T5779700,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$T8226800[10.0 <= data$T8226800 & data$T8226800 <= 999.0] <- 10.0
data$T8226800 <- factor(data$T8226800,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$T8796100[10.0 <= data$T8796100 & data$T8796100 <= 999.0] <- 10.0
data$T8796100 <- factor(data$T8796100,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
data$T9307900[10.0 <= data$T9307900 & data$T9307900 <= 999.0] <- 10.0
data$T9307900 <- factor(data$T9307900,
levels=c(0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0),
labels=c("0",
"1",
"2",
"3",
"4",
"5",
"6",
"7",
"8",
"9",
"10 TO 999: 10+"))
return(data)
}

varlabels <- c("ID# (1-12686) 79",
"# OF BIO/STEP/ADPT CHILDREN IN HH 79",
"# OF BIO/STEP/ADPT CHILDREN IN HH 80",
"# OF BIO/STEP/ADPT CHILDREN IN HH 81",
"# OF BIO/STEP/ADPT CHILDREN IN HH 82",
"# OF BIO/STEP/ADPT CHILDREN IN HH 83",
"# OF BIO/STEP/ADPT CHILDREN IN HH 84",
"# OF BIO/STEP/ADPT CHILDREN IN HH 85",
"# OF BIO/STEP/ADPT CHILDREN IN HH 86",
"# OF BIO/STEP/ADPT CHILDREN IN HH 87",
"# OF BIO/STEP/ADPT CHILDREN IN HH 88",
"# OF BIO/STEP/ADPT CHILDREN IN HH 89",
"# OF BIO/STEP/ADPT CHILDREN IN HH 90",
"# OF BIO/STEP/ADPT CHILDREN IN HH 91",
"# OF BIO/STEP/ADPT CHILDREN IN HH 92",
"# OF BIO/STEP/ADPT CHILDREN IN HH 93",
"NUMBER OF BIO/STEP/ADPT CHILDRN IN HH 94",
"NUMBER OF BIO/STEP/ADPT CHILDRN IN HH 96",
"NUM BIO/STEP/ADPT CHILDREN IN HH 1998",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2000",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2002",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2004",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2006",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2008",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2010",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2012",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2014",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2016",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2018",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2020",
"NUM BIO/STEP/ADPT CHILDREN IN HH 2022"
)


# Use qnames rather than rnums

qnames = function(data) {
names(data) <- c("CASEID_1979",
"NUMCH79_1979",
"NUMCH80_1980",
"NUMCH81_1981",
"NUMCH82_1982",
"NUMCH83_1983",
"NUMCH84_1984",
"NUMCH85_1985",
"NUMCH86_1986",
"NUMCH87_1987",
"NUMCH88_1988",
"NUMCH89_1989",
"NUMCH90_1990",
"NUMCH91_1991",
"NUMCH92_1992",
"NUMCH93_1993",
"NUMCH94_1994",
"NUMCH96_1996",
"NUMCH98_1998",
"NUMCH00_2000",
"NUMCH02_2002",
"NUMCH04_2004",
"NUMCH06_2006",
"NUMCH08_2008",
"NUMCH10_2010",
"NUMCH12_2012",
"NUMCH14_2014",
"NUMCH16_2016",
"NUMCH18_2018",
"NUMCH20_2020",
"NUMCH22_2022")
return(data)
}


#********************************************************************************************************

# Remove the '#' before the following line to create a data file called "categories" with value labels.
#categories <- vallabels(new_data)

# Remove the '#' before the following lines to rename variables using Qnames instead of Reference Numbers
#new_data <- qnames(new_data)
#categories <- qnames(categories)

# Produce summaries for the raw (uncategorized) data file
summary(new_data)

# Remove the '#' before the following lines to produce summaries for the "categories" data file.
#categories <- vallabels(new_data)
#categories <- vallabels_continuous(new_data)
#summary(categories)

#************************************************************************************************************

